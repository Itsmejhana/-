<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Galaxia Gateway - No Snitchin</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: monospace;
      text-align: center;
      padding-top: 20vh;
      transition: background 0.5s;
    }
    #ipBox {
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(255,0,0,0.85);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 18px;
      display: none;
      text-shadow: 0 0 10px red, 0 0 20px red;
      z-index: 9999;
    }
    #banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: red;
      color: white;
      font-size: 22px;
      font-weight: bold;
      padding: 15px;
      display: none;
      text-shadow: 0 0 10px yellow, 0 0 20px yellow;
      z-index: 9999;
    }
    .shake {
      animation: shake 0.4s;
    }
    @keyframes shake {
      0% { transform: translate(5px, 5px); }
      25% { transform: translate(-5px, -5px); }
      50% { transform: translate(5px, -5px); }
      75% { transform: translate(-5px, 5px); }
      100% { transform: translate(0,0); }
    }
    .blackout {
      background: black !important;
      color: black !important;
    }
  </style>
</head>
<body>
  <h1>🚫 Galaxia Gateway - NO SNITCHIN 🚫</h1>
  <div id="ipBox"></div>
  <div id="banner"></div>

  <script>
    let attempts = 0;
    let userIP = "UNKNOWN";

    async function fetchIP() {
      try {
        let res = await fetch("https://api.ipify.org?format=json");
        let data = await res.json();
        userIP = data.ip;
      } catch (e) {
        userIP = "ERROR";
      }
    }
    fetchIP();

    function triggerBlackout() {
      document.body.classList.add("blackout");
      setTimeout(() => {
        document.body.classList.remove("blackout");
      }, 3000);
    }

    function triggerShake() {
      document.body.classList.add("shake");
      setTimeout(() => {
        document.body.classList.remove("shake");
      }, 400);
    }

    function showBanner(msg) {
      let banner = document.getElementById("banner");
      banner.textContent = msg;
      banner.style.display = "block";
      setTimeout(() => { banner.style.display = "none"; }, 3000);
    }

    function showIPBox() {
      let box = document.getElementById("ipBox");
      box.textContent = "Your IP: " + userIP;
      box.style.display = "block";
    }

    function handleSnitch() {
      attempts++;
      if (attempts === 1) {
        alert("NO YOURE ASS STFU NO SNITCHIN\nYour IP: " + userIP);
        triggerBlackout();
        showIPBox();
      } else if (attempts === 2) {
        window.location.href = "https://en.wikipedia.org/wiki/Remote_access_trojan";
      } else {
        showBanner("⚠️ Snitch Attempt #" + attempts + " logged ⚠️");
        triggerShake();
        triggerBlackout();
      }
    }

    // Detect screenshot keys
    document.addEventListener("keydown", (e) => {
      if (e.key === "PrintScreen" || (e.ctrlKey && e.shiftKey && (e.key === "s" || e.key === "S"))) {
        e.preventDefault();
        handleSnitch();
      }
    });

    // Detect refresh attempt (F5, Ctrl+R, browser reload)
    window.addEventListener("beforeunload", (e) => {
      localStorage.setItem("snitchIP", userIP);
      localStorage.setItem("refreshSnitch", "true");
    });

    window.addEventListener("load", () => {
      if (localStorage.getItem("refreshSnitch") === "true") {
        localStorage.setItem("refreshSnitch", "false");
        attempts++;
        if (attempts === 1) {
          alert("REFRESH ATTEMPT LOGGED!\nYour IP: " + localStorage.getItem("snitchIP"));
          showIPBox();
          showBanner("⚠️ Refresh Attempt Logged ⚠️");
        } else if (attempts === 2) {
          window.location.href = "https://en.wikipedia.org/wiki/Remote_access_trojan";
        }
      }
    });

    // Extra: blackout if they switch tabs
    window.addEventListener("blur", () => {
      triggerBlackout();
    });
  </script>
</body>
</html>
